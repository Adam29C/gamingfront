{"ast":null,"code":"import React,{useState}from\"react\";import Content from\"../../../Layout/Content/Content\";import Formikform from\"../../../Helpers/Form\";import{useFormik}from\"formik\";import{Mobile_regex,Password_Rejex}from\"../../../Utils/Valid_Rejex\";import*as valid_err from\"../../../Utils/Common_Msg\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Add_User=()=>{const[Permisstion,setPermisstion]=useState([]);const isValidContact=mobile=>{return Mobile_regex(mobile);};const isValidPassword=mobile=>{return Password_Rejex(mobile);};const formik=useFormik({initialValues:{mobileNumber:\"\",password:\"\",name:\"\",permission:{}},validate:values=>{const errors={};if(!values.password){errors.password=valid_err.PASSWORD_ERROR;}else if(!isValidPassword(values.password)){errors.password=valid_err.PASSWORD__LENGTH_ERROR;}if(!values.mobileNumber){errors.mobileNumber=valid_err.CONTACT_ERROR;}else if(!isValidContact(values.mobileNumber)){errors.mobileNumber=valid_err.INVALID_CONTACT_ERROR;}return errors;},onSubmit:async values=>{const req={mobileNumber:values.mobileNumber,password:values.password,name:values.name,permission:Permisstion};// await dispatch(Add_Panel_data({ req: req, token: user_token }))\n//   .unwrap()\n//   .then((response) => {\n//     if (response.status === 409) {\n//       toast.error(response.data.msg);\n//     } else if (response.status) {\n//       toast.success(response.msg);\n//       setTimeout(() => {\n//         navigate(\"/super/alladmins\");\n//       }, 1000);\n//     } else if (!response.status) {\n//       toast.error(response.msg);\n//     }\n//   });\n}});const fields=[{name:\"mobileNumber\",label:\"Mobile Number\",type:\"text\",label_size:12,col_size:6},{name:\"password\",label:\"Password\",type:\"password\",label_size:12,col_size:6},{name:\"name\",label:\"Name\",type:\"text\",label_size:12,col_size:6}];const permisstionArray=[{id:0,name:\"Game Create\",value:\"gameCreated\"},{id:1,name:\"Edit Game \",value:\"gameEdit\"},{id:2,name:\"Delete Game\",value:\"gameDelete\"},{id:3,name:\"View Game\",value:\"viewGame\"},{id:4,name:\"Create User\",value:\"createUser\"},{id:5,name:\"View Users\",value:\"viewUser\"}];const handleSBrokerChange=(e,checked)=>{setPermisstion(prevValue=>({...prevValue,[e]:checked===\"true\"||checked===true}));};// const handleSBrokerChange = (e, checked) => {\n//   setPermisstion((prevValue) => {\n//     const newValue = { ...prevValue };\n//     if (newValue.hasOwnProperty(e) && Array.isArray(newValue[e])) {\n//       newValue[e].push(checked);\n//     } else {\n//       newValue[e] = [checked];\n//     }\n//     return newValue;\n//   });\n// };\nreturn/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Content,{title:\"Add User\",col_size:12,children:/*#__PURE__*/_jsx(Formikform,{fieldtype:fields.filter(field=>!field.showWhen),formik:formik,btn_name:\"Add User\",before_submit:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h5\",{className:\"fw-bold\",children:\" Permissions \"}),permisstionArray.map(broker=>/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-4 mt-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row \",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-12 \",children:/*#__PURE__*/_jsxs(\"div\",{class:\"form-check custom-checkbox mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"form-check-input\",name:broker.name,value:broker.id,onChange:e=>handleSBrokerChange(e.target.name,e.target.checked)}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",for:broker.name,children:broker.name})]})})})}))]})})})});};export default Add_User;","map":{"version":3,"names":["React","useState","Content","Formikform","useFormik","Mobile_regex","Password_Rejex","valid_err","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Add_User","Permisstion","setPermisstion","isValidContact","mobile","isValidPassword","formik","initialValues","mobileNumber","password","name","permission","validate","values","errors","PASSWORD_ERROR","PASSWORD__LENGTH_ERROR","CONTACT_ERROR","INVALID_CONTACT_ERROR","onSubmit","req","fields","label","type","label_size","col_size","permisstionArray","id","value","handleSBrokerChange","e","checked","prevValue","children","title","fieldtype","filter","field","showWhen","btn_name","before_submit","className","map","broker","class","onChange","target","for"],"sources":["D:/Gaming/gaming/frontend/src/Components/Pages/SuperAdmin/Users/AddUsers.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport Content from \"../../../Layout/Content/Content\";\r\nimport Formikform from \"../../../Helpers/Form\";\r\nimport { useFormik } from \"formik\";\r\nimport { Mobile_regex, Password_Rejex } from \"../../../Utils/Valid_Rejex\";\r\nimport * as valid_err from \"../../../Utils/Common_Msg\";\r\n\r\nconst Add_User = () => {\r\n  const [Permisstion, setPermisstion] = useState([]);\r\n\r\n\r\n\r\n  const isValidContact = (mobile) => {\r\n    return Mobile_regex(mobile);\r\n  };\r\n  const isValidPassword = (mobile) => {\r\n    return Password_Rejex(mobile);\r\n  };\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      mobileNumber: \"\",\r\n      password: \"\",\r\n      name: \"\",\r\n      permission: {},\r\n    },\r\n\r\n    validate: (values) => {\r\n      const errors = {};\r\n\r\n      if (!values.password) {\r\n        errors.password = valid_err.PASSWORD_ERROR;\r\n      } else if (!isValidPassword(values.password)) {\r\n        errors.password = valid_err.PASSWORD__LENGTH_ERROR;\r\n      }\r\n      if (!values.mobileNumber) {\r\n        errors.mobileNumber = valid_err.CONTACT_ERROR;\r\n      } else if (!isValidContact(values.mobileNumber)) {\r\n        errors.mobileNumber = valid_err.INVALID_CONTACT_ERROR;\r\n      }\r\n\r\n      return errors;\r\n    },\r\n    onSubmit: async (values) => {\r\n      const req = {\r\n        mobileNumber: values.mobileNumber,\r\n        password: values.password,\r\n        name: values.name,\r\n        permission: Permisstion,\r\n      };\r\n\r\n      // await dispatch(Add_Panel_data({ req: req, token: user_token }))\r\n      //   .unwrap()\r\n      //   .then((response) => {\r\n      //     if (response.status === 409) {\r\n      //       toast.error(response.data.msg);\r\n      //     } else if (response.status) {\r\n      //       toast.success(response.msg);\r\n\r\n      //       setTimeout(() => {\r\n      //         navigate(\"/super/alladmins\");\r\n      //       }, 1000);\r\n      //     } else if (!response.status) {\r\n      //       toast.error(response.msg);\r\n      //     }\r\n      //   });\r\n    },\r\n  });\r\n\r\n  const fields = [\r\n    {\r\n      name: \"mobileNumber\",\r\n      label: \"Mobile Number\",\r\n      type: \"text\",\r\n      label_size: 12,\r\n      col_size: 6,\r\n    },\r\n    {\r\n      name: \"password\",\r\n      label: \"Password\",\r\n      type: \"password\",\r\n      label_size: 12,\r\n      col_size: 6,\r\n    },\r\n\r\n    {\r\n      name: \"name\",\r\n      label: \"Name\",\r\n      type: \"text\",\r\n      label_size: 12,\r\n      col_size: 6,\r\n    },\r\n  ];\r\n\r\n  const permisstionArray = [\r\n    {\r\n      id: 0,\r\n      name: \"Game Create\",\r\n      value: \"gameCreated\",\r\n    },\r\n    {\r\n      id: 1,\r\n      name: \"Edit Game \",\r\n      value: \"gameEdit\",\r\n    },\r\n    {\r\n      id: 2,\r\n      name: \"Delete Game\",\r\n      value: \"gameDelete\",\r\n    },\r\n    {\r\n      id: 3,\r\n      name: \"View Game\",\r\n      value: \"viewGame\",\r\n    },\r\n    {\r\n      id: 4,\r\n      name: \"Create User\",\r\n      value: \"createUser\",\r\n    },\r\n    {\r\n      id: 5,\r\n      name: \"View Users\",\r\n      value: \"viewUser\",\r\n    },\r\n  ];\r\n\r\n  const handleSBrokerChange = (e, checked) => {\r\n    setPermisstion((prevValue) => ({\r\n      ...prevValue,\r\n      [e]: checked === \"true\" || checked === true,\r\n    }));\r\n  };\r\n\r\n  // const handleSBrokerChange = (e, checked) => {\r\n  //   setPermisstion((prevValue) => {\r\n  //     const newValue = { ...prevValue };\r\n\r\n  //     if (newValue.hasOwnProperty(e) && Array.isArray(newValue[e])) {\r\n  //       newValue[e].push(checked);\r\n  //     } else {\r\n  //       newValue[e] = [checked];\r\n  //     }\r\n  //     return newValue;\r\n  //   });\r\n  // };\r\n\r\n  return (\r\n    <>\r\n      <Content title=\"Add User\" col_size={12}>\r\n        <Formikform\r\n          fieldtype={fields.filter((field) => !field.showWhen)}\r\n          formik={formik}\r\n          btn_name=\"Add User\"\r\n          before_submit={\r\n            <>\r\n              <h5 className=\"fw-bold\"> Permissions </h5>\r\n              {permisstionArray.map((broker) => (\r\n                <div className={`col-lg-4 mt-2`}>\r\n                  <div className=\"row \">\r\n                    <div className=\"col-lg-12 \">\r\n                      <div class=\"form-check custom-checkbox mb-3\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          className=\"form-check-input\"\r\n                          name={broker.name}\r\n                          value={broker.id}\r\n                          onChange={(e) =>\r\n                            handleSBrokerChange(e.target.name, e.target.checked)\r\n                          }\r\n                        />\r\n                        <label className=\"form-check-label\" for={broker.name}>\r\n                          {broker.name}\r\n                        </label>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n\r\n         \r\n            </>\r\n          }\r\n        />\r\n      </Content>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Add_User;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}